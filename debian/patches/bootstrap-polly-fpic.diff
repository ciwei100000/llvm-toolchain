Index: llvm-toolchain-7-7/polly/CMakeLists.txt
===================================================================
--- llvm-toolchain-7-7.orig/polly/CMakeLists.txt
+++ llvm-toolchain-7-7/polly/CMakeLists.txt
@@ -91,6 +91,8 @@ else ()
   set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -fno-exceptions -fno-rtti")
 endif ()
 
+set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -fPIC")
+
 # Add path for custom modules
 set(CMAKE_MODULE_PATH ${CMAKE_MODULE_PATH} "${POLLY_SOURCE_DIR}/cmake")
 
Index: llvm-toolchain-7-7/polly/lib/External/CMakeLists.txt
===================================================================
--- llvm-toolchain-7-7.orig/polly/lib/External/CMakeLists.txt
+++ llvm-toolchain-7-7/polly/lib/External/CMakeLists.txt
@@ -1,3 +1,6 @@
+set(CMAKE_C_FLAGS "${CMAKE_C_FLAGS} -fPIC")
+set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -fPIC")
+
 # External: Integer Set Library
 if (POLLY_BUNDLED_ISL)
   set(ISL_SOURCE_DIR "${CMAKE_CURRENT_SOURCE_DIR}/isl")
Index: llvm-toolchain-7-7/lib/Support/CMakeLists.txt
===================================================================
--- llvm-toolchain-7-7.orig/lib/Support/CMakeLists.txt
+++ llvm-toolchain-7-7/lib/Support/CMakeLists.txt
@@ -1,4 +1,6 @@
 set(system_libs)
+set(CMAKE_C_FLAGS "${CMAKE_C_FLAGS} -fPIC")
+
 if ( LLVM_ENABLE_ZLIB AND HAVE_LIBZ )
   set(system_libs ${system_libs} ${ZLIB_LIBRARIES})
 endif()
